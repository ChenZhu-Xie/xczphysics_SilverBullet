
# Person template

1. [page template from new ref](https://community.silverbullet.md/t/page-template-from-new-ref/3848/4?u=chenzhu-xie) #community #silverbullet
   这个很像 [[PKM/Apps/Tana]] 中的 tag template -_-||，是它的子集。
   a little bit related to [[CONFIG/to_be_Employed#Fields related|]]

# Auto-Complete Person’s name

1. [custom autocomplete library](https://community.silverbullet.md/t/custom-autocomplete-library/3851/2?u=chenzhu-xie) #community #silverbullet
  - related to [[CONFIG/Auto_Completions]]

Crist Xie #person [FirstName:Crist] [LastName:xie]

[[Journal/2026/02-February/2026-02-08_Sun@450|Crist xie]] 非常像 [[PKM/Apps/Tana|]] SuperTag 的 build from fields... 

```space-lua
event.listen {  
  name = "editor:complete",  
  run = function(e)  
    local linePrefix = e.data.linePrefix or ""  
    local pos = e.data.pos or 0  
  
    local match = string.match(linePrefix, "@([a-zA-Z0-9_]*)$")  
    if not match then  
      return  
    end  
  
    local people = query[[ from p = index.tag("person")]]  
    local opts = {}  
  
    for _, p in ipairs(people) do  
      local label = (p.FirstName or "") .. " " .. (p.LastName or "")  
      local completionText = "[[" .. p.ref .. "|" .. label .. "]]"  
        
      table.insert(opts, {  
        label = label,  
        detail = p.ref,
        apply = function()  
          editor.dispatch({  
            changes = {  
              from = pos - string.len(match) - 1,  
              to = pos,  
              insert = completionText  
            }  
          })  
        end
      })  
    end  
  
    return {  
      from = pos - string.len(match),  
      options = opts  
    }  
  end  
}
```

