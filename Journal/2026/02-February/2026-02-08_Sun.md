
# Person template

1. [page template from new ref](https://community.silverbullet.md/t/page-template-from-new-ref/3848/4?u=chenzhu-xie) #community #silverbullet
   这个很像 [[PKM/Apps/Tana]] 中的 tag template -_-||，是它的子集。
   a little bit related to [[CONFIG/to_be_Employed#Fields related|]]

# Auto-Complete Person’s name

1. [custom autocomplete library](https://community.silverbullet.md/t/custom-autocomplete-library/3851/2?u=chenzhu-xie) #community #silverbullet
  - related to [[CONFIG/Auto_Completions]]

Crist Xie #person [FirstName:Crist] [LastName:Xie]

[[Journal/2026/02-February/2026-02-08_Sun@450|Crist Xie]]：非常像 [[PKM/Apps/Tana|]] SuperTag 的 ==build from fields== 

```space-lua
event.listen {  
  name = "editor:complete",  
  run = function(e)  
    local linePrefix = e.data.linePrefix or ""  
    local pos = e.data.pos or 0  
  
    local match = string.match(linePrefix, "@([a-zA-Z0-9_]*)$")  
    if not match then  
      return  
    end  
  
    local people = query[[ from p = index.tag("person")]]  
    local opts = {}  
  
    for _, p in ipairs(people) do  
      local label = (p.FirstName or "") .. " " .. (p.LastName or "")  
      local completionText = "[[" .. p.ref .. "|" .. label .. "]]"  
        
      table.insert(opts, {  
        label = label,  
        detail = p.ref,
        apply = function()  
          editor.dispatch({  
            changes = {  
              from = pos - string.len(match) - 1,  
              to = pos,  
              insert = completionText  
            }  
          })  
        end
      })  
    end  
  
    return {  
      from = pos - string.len(match),  
      options = opts  
    }  
  end  
}
```

## CSS

1. [clean modern restyle of the autcomplete menu](https://community.silverbullet.md/t/clean-modern-restyle-of-the-autcomplete-menu/3852?u=chenzhu-xie) #community #silverbullet

```space-style
html[data-theme="dark"] {
    --ac-bg-primary: oklch(0.55 0.15 250);
    --ac-bg-secondary: oklch(0.45 0 0);
    --ac-primary-color: oklch(0.98 0 0);
    --ac-secondary-color: oklch(0.75 0 0);
}

html[data-theme="light"] {
    --ac-bg-primary: oklch(0.55 0.15 250);
    --ac-bg-secondary: oklch(0.95 0 0);
    --ac-primary-color: oklch(0.95 0 0);
    --ac-secondary-color: oklch(0.75 0 0);
}

#sb-editor .cm-editor .cm-tooltip-autocomplete {
  border: 1px solid oklch(from var(--ac-bg-secondary) 0.65 c h );
  box-shadow: 0 5px 15px oklch(0 0 0 / 0.35);
  border-radius: 10px;
  padding: 8px 0 8px 0;
}

#sb-editor .cm-editor .cm-tooltip-autocomplete ul {
  max-height: 260px;
  padding: 0 8px 0 8px;
  overflow-y: auto;
  scrollbar-width: thin;    
  scrollbar-color: var(--ac-bg-secondary) transparent;
}

#sb-editor .cm-editor .cm-tooltip-autocomplete ul li[aria-selected] {
    background: var(--ac-bg-primary);
    color: var(--ac-primary-color);
    padding: 3px;
    border-radius: 6px;
}

#sb-editor .cm-editor .cm-tooltip-autocomplete ul li:hover:not([aria-selected]) {
    background: var(--ac-bg-secondary); 
    color: inherit;
    border-radius: 6px;
    padding: 3px;
}

#sb-editor .cm-editor .cm-tooltip-autocomplete ul li[aria-selected] .cm-completionDetail,
#sb-editor .cm-editor .cm-tooltip-autocomplete ul li:hover .cm-completionDetail { color: var(--ac-secondary-color);}

#sb-editor .cm-editor .cm-tooltip.cm-tooltip-autocomplete > ul > li { padding: 3px;}
#sb-editor .cm-editor .cm-tooltip-autocomplete ul::-webkit-scrollbar { width: 6px;}
#sb-editor .cm-editor .cm-tooltip-autocomplete ul::-webkit-scrollbar-track { background: transparent;}
#sb-editor .cm-editor .cm-tooltip-autocomplete ul::-webkit-scrollbar-thumb { background: var(--ac-bg-secondary);}
#sb-editor .cm-editor .cm-tooltip-autocomplete ul::-webkit-scrollbar-thumb:hover { background: var(--ac-bg-primary);}
```

